<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gym Pro v1.2 - Nutrici√≥n & Entrenamiento</title>
    <style>
        /* ESTILOS BASE */
        body { background: #111; color: white; font-family: 'Segoe UI', sans-serif; display: flex; justify-content: center; padding: 20px; min-height: 100vh; align-items: center; margin: 0; }
        .card { background: #222; padding: 25px; border-radius: 15px; border-top: 5px solid #d4ff00; width: 100%; max-width: 550px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        h1 { color: #d4ff00; text-align: center; font-size: 1.3rem; text-transform: uppercase; margin-bottom: 20px; letter-spacing: 1px; }
        label { display: block; font-size: 0.75rem; color: #888; margin: 10px 0 5px; text-transform: uppercase; font-weight: bold; }
        input, select, button { width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 8px; border: none; box-sizing: border-box; background: #333; color: white; outline: none; }
        button { background: #d4ff00; color: black; font-weight: bold; cursor: pointer; text-transform: uppercase; margin-top: 10px; transition: 0.3s; }
        button:hover { background: #b8de00; transform: scale(1.02); }
        
        #pantalla { background: #000; margin-top: 20px; padding: 15px; border-radius: 8px; display: none; border-left: 4px solid #d4ff00; }
        .ejercicio { padding: 15px 0; border-bottom: 1px solid #333; }
        .video-container { margin-top: 10px; position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; background: #000; }
        .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
        
        /* ESTILOS NUEVOS PARA NUTRICI√ìN */
        .grid-macros { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 10px; }
        .macro-card { background: #1a1a1a; padding: 12px; border-radius: 8px; text-align: center; border-bottom: 3px solid #d4ff00; }
        .macro-val { display: block; font-size: 1.1rem; font-weight: bold; color: #d4ff00; }
        .macro-lab { font-size: 0.6rem; color: #888; text-transform: uppercase; }
        
        .imc-box { background: #333; padding: 10px; border-radius: 8px; color: #00d4ff; font-weight: bold; text-align: center; margin-bottom: 15px; border: 1px solid #00d4ff; }
        .tag { background: #d4ff00; color: black; padding: 2px 8px; border-radius: 4px; font-size: 0.7rem; font-weight: bold; text-transform: uppercase; }
        
        #app-content { display: none; width: 100%; max-width: 550px; }
        .btn-logout { background: #ff4444; color: white; margin-top: 30px; font-size: 0.7rem; padding: 8px; }
    </style>
</head>
<body>

    <div id="login-section" class="card">
        <h1>üîê ACCESO GYM PRO Pedrito</h1>
        <label>Usuario</label>
        <input type="text" id="user" placeholder="Tu nombre">
        <label>Contrase√±a</label>
        <input type="password" id="pass" placeholder="Tu clave">
        <button onclick="login()">Entrar</button>
        <button onclick="register()" style="background: #444; color: white;">Registrar Nuevo</button>
        <p id="login-msg" style="text-align: center; font-size: 0.8rem; margin-top: 10px;"></p>
    </div>

    <div id="app-content">
        <div class="card">
            <h1>SISTEMA INTEGRAL PRO</h1>
            
            <label>Atleta</label>
            <input type="text" id="nombreAtleta" placeholder="Nombre del alumno">
            
            <div style="display: flex; gap: 10px;">
                <div style="flex: 1;"><label>Peso (kg)</label><input type="number" id="peso" placeholder="70"></div>
                <div style="flex: 1;"><label>Altura (cm)</label><input type="number" id="altura" placeholder="175"></div>
            </div>

            <label>Objetivo Nutricional</label>
            <select id="objetivo">
                <option value="perder">D√©ficit (Perder Grasa)</option>
                <option value="mantener">Mantenimiento</option>
                <option value="ganar">Super√°vit (Ganar M√∫sculo)</option>
            </select>

            <label>Grupo Muscular & Intensidad</label>
            <div style="display: flex; gap: 10px;">
                <select id="musculo" style="flex: 2;">
                    <optgroup label="TREN SUPERIOR">
                        <option value="pectoral">Pectoral</option>
                        <option value="espalda">Espalda</option>
                        <option value="hombros">Hombros</option>
                        <option value="biceps">B√≠ceps</option>
                        <option value="triceps">Tr√≠ceps</option>
                    </optgroup>
                    <optgroup label="TREN INFERIOR">
                        <option value="gluteos">Gl√∫teos</option>
                        <option value="cuadriceps">Cu√°driceps</option>
                    </optgroup>
                </select>
                <select id="nivel" style="flex: 1;">
                    <option value="principiante">B√°sico</option>
                    <option value="avanzado">Pro</option>
                </select>
            </div>

            <button onclick="generarPlan()">GENERAR PLAN COMPLETO</button>
            <div id="pantalla"></div>
            <button onclick="location.reload()" class="btn-logout">CERRAR SESI√ìN</button>
        </div>
    </div>

    <script>
        // L√ìGICA DE SEGURIDAD (Se mantiene igual)
        function register() {
            const u = document.getElementById('user').value;
            const p = document.getElementById('pass').value;
            if (u && p) { localStorage.setItem(u, p); alert("Usuario registrado"); }
        }

        function login() {
            const u = document.getElementById('user').value;
            const p = document.getElementById('pass').value;
            if (localStorage.getItem(u) === p && u !== "") {
                document.getElementById('login-section').style.display = "none";
                document.getElementById('app-content').style.display = "block";
                document.getElementById('nombreAtleta').value = u;
            } else { document.getElementById('login-msg').innerText = "‚ùå Datos incorrectos"; }
        }

        // BASE DE DATOS DE RUTINAS (Se mantiene igual)
        const rutinas = {
            pectoral: {
                principiante: [{n: "Press Plano", v: "oSmc5Gg1wLY"}, {n: "Flexiones", v: "12ygQclsa9Q"}, {n: "Aperturas", v: "YB6PwKTnKnw"}],
                avanzado: [{n: "Press Inclinado", v: "VB09kLgJDo0"}, {n: "Cruces Polea", v: "YB6PwKTnKnw"}, {n: "Press Mancuerna", v: "oSmc5Gg1wLY"}, {n: "Fondos", v: "4VuCF75s6jE"}]
            },
            espalda: {
                principiante: [{n: "Jal√≥n al Pecho", v: "LiA9S8T77f8"}, {n: "Remo Bajo", v: "RyBbL1ei_8w"}, {n: "Remo Mancuerna", v: "7ouN8tVnQcM"}],
                avanzado: [{n: "Dominadas", v: "LiA9S8T77f8"}, {n: "Remo con Barra", v: "RyBbL1ei_8w"}, {n: "Pull Over", v: "7ouN8tVnQcM"}, {n: "Peso Muerto", v: "-f9WEiUaoyA"}]
            },
            hombros: {
                principiante: [{n: "Press Mancuernas", v: "0lFdDyLLE3k"}, {n: "Vuelos Laterales", v: "2yavFdPCqPE"}, {n: "Vuelos Frontales", v: "k--2nDZMxPU"}],
                avanzado: [{n: "Press Militar", v: "0lFdDyLLE3k"}, {n: "Laterales Polea", v: "2yavFdPCqPE"}, {n: "Press Arnold", v: "FfvaIzSnogs"}, {n: "Face Pull", v: "5qwWEwRiTrk"}]
            },
            biceps: {
                principiante: [{n: "Curl Barra", v: "jlFl7WJ1TzI"}, {n: "Curl Martillo", v: "jlFl7WJ1TzI"}, {n: "Curl Polea", v: "jlFl7WJ1TzI"}],
                avanzado: [{n: "Curl Z", v: "jlFl7WJ1TzI"}, {n: "Curl Inclinado", v: "jlFl7WJ1TzI"}, {n: "Concentrado", v: "jlFl7WJ1TzI"}, {n: "Curl Ara√±a", v: "jlFl7WJ1TzI"}]
            },
            triceps: {
                principiante: [{n: "Polea Alta", v: "S7NrsueBHhA"}, {n: "Copa Mancuerna", v: "S7NrsueBHhA"}, {n: "Patada Triceps", v: "S7NrsueBHhA"}],
                avanzado: [{n: "Press Franc√©s", v: "S7NrsueBHhA"}, {n: "Fondos", v: "4VuCF75s6jE"}, {n: "Polea Cuerda", v: "S7NrsueBHhA"}, {n: "Press Cerrado", v: "VB09kLgJDo0"}]
            },
            gluteos: {
                principiante: [{n: "Puente Gl√∫teo", v: "bnJ5WXSnW98"}, {n: "Abducciones", v: "Z2X5w4_eiH8"}, {n: "Patada Polea", v: "f0SMNtfjUFs"}],
                avanzado: [{n: "Hip Thrust", v: "bnJ5WXSnW98"}, {n: "B√∫lgara", v: "Z2X5w4_eiH8"}, {n: "Peso Muerto Rumano", v: "-f9WEiUaoyA"}, {n: "Step Up", v: "f0SMNtfjUFs"}]
            },
            cuadriceps: {
                principiante: [{n: "Sentadilla Libre", v: "bnJ5WXSnW98"}, {n: "Prensa", v: "Z2X5w4_eiH8"}, {n: "Extensiones", v: "f0SMNtfjUFs"}],
                avanzado: [{n: "Sentadilla Barra", v: "bnJ5WXSnW98"}, {n: "Hack Squat", v: "F0-vWlLaVPM"}, {n: "Estocadas", v: "z6AbAusrcGk"}, {n: "Sissy Squat", v: "Z2X5w4_eiH8"}]
            }
        };

        function generarPlan() {
            const nombre = document.getElementById('nombreAtleta').value;
            const niv = document.getElementById('nivel').value;
            const mus = document.getElementById('musculo').value;
            const peso = parseFloat(document.getElementById('peso').value);
            const altura = parseFloat(document.getElementById('altura').value);
            const objetivo = document.getElementById('objetivo').value;
            const divPantalla = document.getElementById('pantalla');

            if(!nombre || isNaN(peso) || isNaN(altura)) { alert("Faltan datos"); return; }
            
            divPantalla.style.display = "block";
            divPantalla.innerHTML = "";

            // --- L√ìGICA NUTRICIONAL v1.2 ---
            let kcalBase = peso * 22; // Tasa metab√≥lica aproximada
            if(objetivo === "perder") kcalBase -= 500;
            if(objetivo === "ganar") kcalBase += 500;

            const prot = (peso * 2.2).toFixed(0); // 2.2g por kg (ideal para atletas)
            const grasa = (peso * 0.8).toFixed(0); // 0.8g por kg
            const carbos = ((kcalBase - (prot*4) - (grasa*9)) / 4).toFixed(0);
            const imc = (peso / ((altura/100)**2)).toFixed(1);

            divPantalla.innerHTML += `
                <div class="imc-box">üìä IMC: ${imc} | Atleta: ${nombre}</div>
                <div style="margin-bottom:20px">
                    <label>MACRONUTRIENTES OBJETIVO:</label>
                    <div class="grid-macros">
                        <div class="macro-card"><span class="macro-val">${prot}g</span><span class="macro-lab">Prote√≠na</span></div>
                        <div class="macro-card"><span class="macro-val">${carbos}g</span><span class="macro-lab">Carbos</span></div>
                        <div class="macro-card"><span class="macro-val">${grasa}g</span><span class="macro-lab">Grasas</span></div>
                    </div>
                    <p style="font-size:0.6rem; color:#888; text-align:center; margin-top:8px">üî• Gasto Cal√≥rico Estimado: ${kcalBase.toFixed(0)} kcal</p>
                </div>
            `;

            // RENDER DE RUTINA (Se mantiene igual)
            const lista = rutinas[mus][niv];
            divPantalla.innerHTML += `<p><span class="tag">${mus.toUpperCase()}</span> <span class="tag" style="background:#fff">${niv.toUpperCase()}</span></p>`;

            lista.forEach(ej => {
                divPantalla.innerHTML += `
                    <div class="ejercicio">
                        <strong>üî• ${ej.n}</strong>
                        <div class="video-container"><iframe src="https://www.youtube.com/embed/${ej.v}" allowfullscreen></iframe></div>
                    </div>`;
            });
            
            divPantalla.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
